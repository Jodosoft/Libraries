<Project>

  <PropertyGroup>
    <TreatWarningsAsErrors>true</TreatWarningsAsErrors>
    <WarningLevel>4</WarningLevel>
  </PropertyGroup>

  <Choose>
    <When Condition="$(MSBuildProjectName.EndsWith('Benchmarks'))">
      <ItemGroup>
        <ProjectReference Include="..\Jodo.Extensions.Benchmarking\Jodo.Extensions.Benchmarking.csproj" />
      </ItemGroup>
      <PropertyGroup>
        <OutputType>Exe</OutputType>
        <TargetFramework>netcoreapp3.1</TargetFramework>
      </PropertyGroup>
      <ItemGroup>
        <Compile Include="..\Jodo.Extensions.Benchmarking\Program.cs" Link="Program.cs" />
      </ItemGroup>
    </When>
    <When Condition="$(MSBuildProjectName.EndsWith('Tests')) or $(MSBuildProjectName.EndsWith('Testing'))">
      <PropertyGroup>
        <TargetFramework>netcoreapp3.1</TargetFramework>
      </PropertyGroup>
      <ItemGroup>
        <PackageReference Include="NUnit" Version="3.13.3" />
        <PackageReference Include="NUnit3TestAdapter" Version="4.2.1" />
        <PackageReference Include="Microsoft.NET.Test.Sdk" Version="17.1.0" />
        <PackageReference Include="AutoFixture" Version="4.17.0" />
        <PackageReference Include="FluentAssertions" Version="6.6.0" />
      </ItemGroup>
    </When>
    <Otherwise>
      <ItemGroup>
        <Compile Include="..\AssemblyInfo.cs" Link="Properties\AssemblyInfo.cs" />
        <None Include="..\LICENSE.md" Link="Properties\LICENSE.md" Pack="true" PackagePath="\" />
        <None Include="..\PackageIcon.png"  Link="Properties\PackageIcon.png" Pack="true" PackagePath="\" />
      </ItemGroup>
      <PropertyGroup>
        <TargetFramework>netstandard2.1</TargetFramework>
        <Nullable>enable</Nullable>
      </PropertyGroup>
      <PropertyGroup Condition=" '$(Configuration)' != 'Debug'">
        <AssemblyVersion>1.0.0.0</AssemblyVersion>
        <Authors>Joseph J. Short</Authors>
        <Company>Joseph J. Short</Company>
        <Copyright>Copyright Â© Joseph J. Short 2022</Copyright>
        <DebugSymbols>false</DebugSymbols>
        <DebugType>none</DebugType>
        <EmbedUntrackedSources>true</EmbedUntrackedSources>
        <EnablePackageValidation>true</EnablePackageValidation>
        <FileVersion>0.0.1</FileVersion>
        <GeneratePackageOnBuild>true</GeneratePackageOnBuild>
        <MinClientVersion>2.12</MinClientVersion>
        <NeutralLanguage>en-GB</NeutralLanguage>
        <Nullable>enable</Nullable>
        <Optimize>true</Optimize>
        <PackageIcon>PackageIcon.png</PackageIcon>
        <PackageLicenseExpression>MIT</PackageLicenseExpression>
        <PackageProjectUrl>https://github.com/JosephJShort/Jodo.Extensions</PackageProjectUrl>
        <Product>Jodo.Extensions</Product>
        <PublishRepositoryUrl>true</PublishRepositoryUrl>
        <TargetFramework>netstandard2.1</TargetFramework>
        <VersionPrefix>1.0.0</VersionPrefix>
        <VersionSuffix>preview2</VersionSuffix>
      </PropertyGroup>
    </Otherwise>
  </Choose>

</Project>
