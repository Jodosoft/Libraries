<Project>

  <PropertyGroup>
    <TreatWarningsAsErrors>true</TreatWarningsAsErrors>
    <WarningLevel>4</WarningLevel>
  </PropertyGroup>

  <Choose>
    
    <When Condition="$(MSBuildProjectName.EndsWith('Benchmarks'))">
      <PropertyGroup>
        <TargetFramework>net6.0</TargetFramework>
        <OutputType>Exe</OutputType>
      </PropertyGroup>
      <ItemGroup>
        <ProjectReference Include="..\Jodo.Extensions.Benchmarking\Jodo.Extensions.Benchmarking.csproj" />
      </ItemGroup>
      <ItemGroup>
        <Compile Include="..\Jodo.Extensions.Benchmarking\Program.cs" Link="Program.cs" />
      </ItemGroup>
    </When>
    
    <When Condition="$(MSBuildProjectName.EndsWith('Tests')) or $(MSBuildProjectName.EndsWith('Testing'))">
      <PropertyGroup>
        <TargetFramework>net6.0</TargetFramework>
      </PropertyGroup>
      <ItemGroup>
        <PackageReference Include="NUnit" Version="3.13.3" />
        <PackageReference Include="NUnit3TestAdapter" Version="4.2.1" />
        <PackageReference Include="Microsoft.NET.Test.Sdk" Version="17.1.0" />
        <PackageReference Include="AutoFixture" Version="4.17.0" />
        <PackageReference Include="FluentAssertions" Version="6.6.0" />
      </ItemGroup>
    </When>

    <Otherwise>
      <PropertyGroup>
        <TargetFramework>netstandard2.1</TargetFramework>
        <Nullable>enable</Nullable>
      </PropertyGroup>
      <ItemGroup>
        <Compile Include="..\AssemblyInfo.cs" Link="Properties\AssemblyInfo.cs" />
        <None Include="..\..\LICENSE.md" Link="Properties\LICENSE.md" Pack="true" PackagePath="\" />
        <None Include="..\PackageIcon.png"  Link="Properties\PackageIcon.png" Pack="true" PackagePath="\" />
      </ItemGroup>
      <ItemGroup Condition="'$(Configuration)' == 'Release'">
        <PackageReference Include="Microsoft.SourceLink.GitHub" Version="1.1.1" PrivateAssets="All"/>
      </ItemGroup>
      <PropertyGroup Condition="'$(Configuration)' == 'Release'">
        <AssemblyVersion>1.1.0.0</AssemblyVersion>
        <Authors>Joseph J. Short</Authors>
        <Company>Joseph J. Short</Company>
        <ContinuousIntegrationBuild>true</ContinuousIntegrationBuild>
        <Copyright>Copyright Â© Joseph J. Short 2022</Copyright>
        <DebugSymbols>true</DebugSymbols>
        <DebugType>portable</DebugType>
        <Deterministic>true</Deterministic>
        <EmbedUntrackedSources>true</EmbedUntrackedSources>
        <EnablePackageValidation>true</EnablePackageValidation>
        <FileVersion>1.1.0</FileVersion>
        <GeneratePackageOnBuild>true</GeneratePackageOnBuild>
        <IncludeSymbols>true</IncludeSymbols>
        <MinClientVersion>2.12</MinClientVersion>
        <NeutralLanguage>en-GB</NeutralLanguage>
        <Optimize>true</Optimize>
        <PackageIcon>PackageIcon.png</PackageIcon>
        <PackageLicenseExpression>MIT</PackageLicenseExpression>
        <PackageProjectUrl>https://github.com/JosephJShort/Jodo.Extensions</PackageProjectUrl>
        <PackageReleaseNotes>https://github.com/JosephJShort/Jodo.Extensions/issues?q=milestone%3A1.0.0</PackageReleaseNotes>
        <Product>Jodo.Extensions</Product>
        <PublishRepositoryUrl>true</PublishRepositoryUrl>
        <RepositoryType>git</RepositoryType>
        <RepositoryUrl>https://github.com/JosephJShort/Jodo.Extensions.git</RepositoryUrl>
        <SymbolPackageFormat>snupkg</SymbolPackageFormat>
        <VersionPrefix>1.1.0</VersionPrefix>
        <VersionSuffix>preview2</VersionSuffix>
      </PropertyGroup>
    </Otherwise>

  </Choose>

</Project>
